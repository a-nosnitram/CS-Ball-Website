<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.cdnfonts.com/css/ocr-a-std" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/motion-control-neue-lite" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/vipnagorgialla" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/vipnagorgialla" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/espacio-cuadrado" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Orbitron' rel='stylesheet'>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <title>Computer Science Ball 2025</title>
</head>

<body>

    <div id="top" class="header">
        <h1>COMPUTER SCIENCE </h1>
        <h2>BALL 2025</h1>
        <h3>Shell We Dance Under the C ?</h3>
        <p id="typewriter"><span id="typed-text"></span><span id="cursor"></span></p>

        <a href="#details"><button class="btn" id="reveal-button">See the details</button></a>

        <div class="particles"></div>

        <div class="fish-container"></div>
    </div>

    <!-- Details Section -->
    <section id="details">

        <h2>Event Details</h2>
        <div class="details-grid">
            <div class="details-labels">
                <p><i class="fa-solid fa-calendar-days"></i> Date:</p>
                <p><i class="fa-solid fa-location-dot"></i> Venue:</p>
                <p><i class="fa-solid fa-user-tie"></i> Dress Code:</p>
                <p><i class="fa-solid fa-star"></i> Theme:</p>
            </div>

            <div class="details-info">
                <p>April 5, 2025</p>
                <p>
                    <a href="https://maps.app.goo.gl/oD7j5ysKH1FGK37L9" target="_blank" rel="noopener noreferrer">
                        Upper and Lower College Hall
                    </a>
                </p>
                <p>Do your best</p>
                <p>Under the C
                    <span id="smaller-text">(In case you failed to C the big ass pun I put up there)</span>
                </p>
            </div>
        </div>
        <a href="#rsvp"><button class="btn">RSVP Now</button></a>
    </section>


    <!-- RSVP Section -->
    <section id="rsvp">
        <h2>Reserve Your Spot</h2>
        <p>Buy your ticket for only 70Â£.</p>
        <!-- price to be adjusted -->
        <a href="https://www.yourunion.net/"> <button class="btn">Buy ticket</button></a>
        <!-- link to the union website to be updated once tickets can be sold -->
        <a href="#timer"><button class="btn"> How long shell I wait? </button></a>
    </section>

    <!-- timer section -->
    <section id="timer">
        <div id="countdown-container">
            <p id="countdown"></p>
            <p id="fun">...until a boat load of fun...</p>
            <p id="fun">^(;,;)^</p>
            <a href="#top"><button class="btn"> Back to the top </button></a>
        </div>
    </section>

    <script>
        // generating floating binary particles
        const particlesContainer = document.querySelector('.particles');
        const numParticles = 60;

        for (let i = 0; i < numParticles; i++) {
            let particle = document.createElement('div');
            particle.classList.add('particle');
            particle.textContent = Math.random() < 0.5 ? '0' : '1';
            particle.style.left = `${Math.random() * 100}%`;
            particle.style.animationDuration = `${Math.random() * 5 + 5}s`;
            particle.style.opacity = Math.random();
            particlesContainer.appendChild(particle);
        }

        // fish fish fish
        const fishContainer = document.querySelector('.fish-container');
        const numFish = 10;

        for (let i = 0; i < numFish; i++) {
            let fish = document.createElement('div');
            fish.classList.add('fish');
            fish.textContent = ' }<))))*> ';
            fish.style.top = `${Math.random() * 90}%`;
            fish.style.animationDuration = `${Math.random() * 10 + 8}s`;

            const fishSize = Math.random() * 0.7 + 0.5; // range : 0.5em - 1.2em
            fish.style.fontSize = `${fishSize}em`;

            if (fishSize < 0.8) {
                fish.style.color = '#1e8fff97'; // darker colour for smaller fish
            } else {
                fish.style.color = '#1e90ff'; // brighter colour for larger fish
            }

            // swimming directions
            if (i % 2 === 0) {
                fish.style.animationName = 'swimRight';
            } else {
                fish.style.animationName = 'swimLeft';
            }

            fishContainer.appendChild(fish);
        }

        // smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();  // Prevents default jump
                const target = document.querySelector(this.getAttribute('href'));

                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            });
        });

        const sections = document.querySelectorAll('section');

        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        });

        sections.forEach(section => {
            observer.observe(section);
        });

        // TYPING OUT THE TEXT

        const text = "Whale, hello there! Get ready to make waves at the most unforgettable night of the year! Join us for an evening of ceilidh, some really good food, and poker. Given how tide down with work you are this semester, grant yourself an evening with dazzling sea-inspired decor, delightful surprises, and music to keep you grooving. And don't be shellfishâ€”bring your friends (we love some good ol' pier pressure)! So, water you waiting for? Seas the day!";
        let i = 0;
        const typingSpeed = 40; // in ms

        function typeWriter() {
            if (i < text.length) {
                document.getElementById("typed-text").textContent += text.charAt(i);
                i++;
                setTimeout(typeWriter, typingSpeed);
            } else {
                // show the button after typing is complete
                document.getElementById("reveal-button").classList.add("show");
            }
        }

        // start typing after page has loaded
        window.addEventListener('DOMContentLoaded', typeWriter);

        // Set the date of the Computer Science Ball
        const eventDate = new Date("April 5, 2025 19:00:00").getTime(); // Set the event time (7 PM)

        // Update the countdown every second
        const countdownTimer = setInterval(function () {
            const now = new Date().getTime();
            const timeLeft = eventDate - now;

            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

            document.getElementById("countdown").textContent =
                `${days}d ${hours}h ${minutes}m ${seconds}s`;

            // If the countdown is over, display a message
            if (timeLeft < 0) {
                clearInterval(countdownTimer);
                document.getElementById("countdown").textContent = "ðŸŽ‰ The Ball Has O-Fish-ally Started! ðŸŽ‰";
            }
        }, 1000);

    </script>

</body>

</html>